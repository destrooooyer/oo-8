# readme

### 输入
* 城市地图通过文件输入，文件格式为文本文件。文件内容为 80 行字符串，
每行有 80 个字符，每个字符为 0 到 3 之间的整数。（摘自基本法）
* 文件需要由测试者确保地图上的所有的点都是连通的，即整个图是连通图，
但不能存在点与图外的点有连接，例如 (80,1) 不能是 2 或 3，(80,80) 只能是 0。（摘自基本法）
* 程序开始运行后，会在控制台输出 *"请输入地图数据所在的文件的绝对路径"* ，此时请在***控制台***中输入包含地图数据的文件的***绝对路径***,如`F:\temp\新建文本文档.txt`

### 本程序提供的测试接口
* `_disp`为在`main`函数中创建的`disp类`的一个对象。
* 测试时，请调用`_disp`的如下方法：
  * `_disp.watcher.get_reputation(int x)`
    * 作用：获取x号出租车的信誉值
    * 返回类型为int
    * x的取值范围为[0,99]
  * `_disp.watcher.get_status(int x)`
    * 作用：获得x号出租车的运行状态
    * 返回类型为String
    * x的取值范围为[0,99]
    * 车运行的状态有如下四种：
      * `waiting`：等待服务
      * `stopped`：停止运行
      * `serving`：正在服务
      * `to-passenger`：即将服务
  * `_disp.watcher.get_x(int x)`
    * 作用：获得x号出租车在地图中所处的行号
    * 返回类型为int
    * x的取值范围为[0,99]
  * `_disp.watcher.get_y(int x)`
    * 作用：获得x号出租车在地图中所处的列号
    * 返回类型为int
    * x的取值范围为[0,99]
  * `_disp.watcher.get_time(int x)`
    * 作用：获得当前时间（当前系统时间-`_disp`这个对象被创建时的系统时间）
    * 返回类型为long
    * x的取值范围为[0,99]
  * `_disp.add_request(int x, int y, int dest_x, int dest_y)`
    * 作用：添加新的乘客请求（从(x,y)前往(dest_x,dest_y)的请求）
    * 返回类型为void
    * x, y, dest_x, dest_y 的取值范围均为[0,79]
    * 若请求无法响应，则会在控制台输出类似如下内容：
      >请求  (22,5) => (43,27) 没有车能够响应

    * 注意：由于指导书中要求请求队列容量只需不少于300，因此，一旦同时运行的请求数超过300，程序将从控制台输出提示信息。此后，虽然程序继续运行，但不对发生的错误负责
* ***注意：测试时请一定要调用_disp这个对象的测试接口，而不要创建disp类的其他对象。在main函数作用域以外测试的话需要将_disp作为参数传递过去***

### 测试
* 工程中已经添加了测试代码的示例以供参考，包括`test_thread`类以及`main`函数中46~47行，建好工程直接运行就可以看到测试示例的结果。
* 建议直接修改`test_thread`类的`run`方法进行测试。（注释掉已有代码，添加新的测试代码）
* 当然，要是完全重写测试线程我也是兹词的，但要记得将`main`函数中46~47行注释掉，在相同位置启动测试线程。注意一定要像示例的测试代码那样先在`main`函数中将`_disp`作为参数传给测试线程，再在测试线程中调用`_disp`的相应方法进行测试，因为很重要所以又说了一遍。



>虽然觉得不会有这种情况，但如果无法掌握本程序的测试姿势的话，可以联系此QQ：3411577514。这是新注册的小号，不包含任何个人信息，可以放心与我匿名地谈笑风生
